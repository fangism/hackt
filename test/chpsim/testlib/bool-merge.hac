// "bool-merge.hac"
//	$Id: bool-merge.hac,v 1.2 2007/01/21 06:04:12 fang Exp $
// conditional routing

template <pint N>
defproc bool_merge(chan?(int) C; chan?(bool) I[N]; chan!(bool) O) {
int c;
bool x;
chp {
*[ C?(c);
//	[ []i:N: (c == i) -> I[N]?(x) ]
	I[c]?(x);
	O!(x)
]
}
}

defproc bool_merge_2(chan?(bool) S, I[2]; chan!(bool) O) {
bool c, x;
chp {
*[ S?(c);
	[ c -> I[1]?(x) [] else -> I[0]?(x) ];
	O!(x)
]
}
}


