# "test/ChangeLog"

2006-05-02	David Fang		<fangism@users.sourceforge.net>

	* HACKT-00-01-04-main-00-78-22-prsim-04-05:
	  Added test support for verifying prsim checkpoint consistency.


2006-04-30	David Fang		<fangism@users.sourceforge.net>

	* HACKT-00-01-04-main-00-78-22-prsim-04-02:
	  prsimrc-random-time-filter.awk: account for cause diagnostics
	  update-*.sh: maintainer scripts updated with getopt-ability
		to take -s srcdir as argument, useful in VPATH builds.  


2006-04-12	David Fang		<fangism@users.sourceforge.net>

	* HACKT-00-01-04-main-00-78-13-merged-spec-02-04:
	  Branch merge.  


2006-04-11	David Fang		<fangism@users.sourceforge.net>

	* HACKT-00-01-04-main-00-78-11-spec-02-03:
	  Added support for testing SEU mode of cflatting to test
		new special spec directives.  


2006-04-08	David Fang		<fangism@users.sourceforge.net>

	* HACKT-00-01-04-main-00-78-11:
	  hackt-expect-prs.sh.in: Exclude "weak" pattern from prsim tests 
		because new attribute not supported by the legacy tool-chain.


2006-04-03	David Fang		<fangism@users.sourceforge.net>

	* HACKT-00-01-04-main-00-78-08:
	  Added additional filter to filter out random timestamps
		in test cases that use random timing.  


	* HACKT-00-01-04-main-00-78-07-merged-prsim-01-15:
	  Branch merge, introducing prsim test suite.  


2006-03-30	David Fang		<fangism@users.sourceforge.net>

	* HACKT-00-01-04-main-00-78-05-prsim-01-11:
	  Added prsimrc-filter.awk for post-processing prsimrc output logs.
	  Updated the way prsimrc tests are run, using the new filter, 
		and passing -I$(srcdir) to enable checking of recursive
		source scripts.  Should pass VPATH build checks.  :)


2006-03-26	David Fang		<fangism@users.sourceforge.net>

	* HACKT-00-01-04-main-00-78-05-prsim-01-06:
	  Added preliminary support for prsim run-commands tests.


2006-03-21	David Fang		<fangism@users.sourceforge.net>

	* HACKT-00-01-04-main-00-78-05:
	  Enabled object consistency checks for create and alloc targets.
	  Basically, they diff against the objects produced by various
		partial compiles of intermediate objects and verify that
		the contents produce identical object dumps.  


2006-02-05	David Fang		<fangism@users.sourceforge.net>

	* HACKT-00-01-04-main-00-77-4-preal-01-09:
	  Added support for sprs (sized PRS) generation and testing.  


2006-02-05	David Fang		<fangism@users.sourceforge.net>

	* HACKT-00-01-04-main-00-77-4:
	  Attempted to try consistency checking between create phase, 
		using .haco (instead of .haco-u) as input, but resulted
		in many differences, due to instability of reconstructing
		alias rings (equivalent, but unordered).  
	  TODO: decide when to overhaul connection structures, 
		replace with union-find.  


2006-01-30	David Fang		<fangism@users.sourceforge.net>

	* HACKT-00-01-04-main-00-76-2-fixdump-06:
	  Removed archaic clean-test and subdir.not_a_test bogus targets
		and no longer using test_report.txt.  Good riddance. 
	  TODO: eliminate redundant make suffix rules to produces
		various dumps -- just use one suffix rule.
	  TODO: add test rule for generating intermediate objects in
		different manners, skipping and fusing compile phases.  
		This is badly needed to detect and correct a critical
		inconsistency bug!


2006-01-23	David Fang		<fangism@users.sourceforge.net>

	* HACKT-00-01-04-main-00-74-PRS-04-01:
	  Added even more suffix rules for testing convenience.  
		Just run 'make'!
	  Added more echo- targets to make test updating (en masse) easy.


2006-01-10	David Fang		<fangism@users.sourceforge.net>

	* HACKT-00-01-04-main-00-72-prsim-00-13:
	  Added suffix rules for standard HACKT object files
		and various other test output files.
	  Now can build dot/ps visualizations of prsim expressions
		with Makefile rules!


2006-01-09	David Fang		<fangism@users.sourceforge.net>

	* HACKT-00-01-04-main-00-72-prsim-00-11:
	  Added test support for prsim expression allocation dumps.  
	  TODO: decide what to do about an expression optimization pass...
		Add a command-line flag to enable/disable it.  


2005-12-12	David Fang		<fangism@users.sourceforge.net>

	* HACKT-00-01-04-main-00-72-merged-rename-00-06:
	  Trunk merge.  Massive renaming.  


2005-12-12	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-71-rename-00-05:
	  MAJOR TEST RESTRUCTURING: script names, object file extensions, 
		and Makefile macro variables have been expunged of
		"art" and "ART", and replaced with more appropriate names.  
	  The Object file naming convention we adopt now is:
		.haco -- just compiled
		.haco-u -- unrolled
		.haco-c -- created
		.haco-a -- allcoated


2005-12-11	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-71-rename-00-04:
	  MAJOR FILE MOVE: All test .in files have been renamed to .hac.
	  All affected test scripts and test outputs have been updated
		to reflect this change.  


2005-12-10	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-71-rename-00-03:
	  In this branch, we will be moving and renaming all test input
		files from .in to .hac, and removing all traces of 
		"ART" or "art".
	  Forgot to rm *.sort in cleaner target.  
	  Fixed EMPTY_CFLAT_PRS generation in Make.test-tail, 
		which wasn't working properly for VPATH builds before.
		(THough failure was not fatal, and nearly silent.)


2005-11-09	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-65-parser-03-10:
	  Updated compile test error filter script to handle
		both state enumerations and vpath differences.  
		The new hackt-parse-expect-filter.awk depends on the
		old (library) state_enum_filter.awk and the new
		vpath_file_filter.awk.
	  Added -I $(srcdir) to all parse and compile tests which work
		in vpath builds now.  


2005-11-01	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-62-cflat-02-04:
	  Enhanced hackt-cflat-test.sh.in to check and see if 
		.prs differences are only a result of reordering.  


2005-10-27	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-61-flow-01-04:
	  Finally figured out how to redirect stderr+stdout without going 
		through cat.  Just append file descriptor combiner at the end.
		e.g. foo > log 2>&1.
		Now test scripts don't have to execute same program twice
		to get exit status and log files separately.  
		I love Bourne shell (/bin/sh).  
	  Updated *.sh.in test scripts accordingly.  


2005-10-25	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-60-merged-PRS-02-11:
	  Merge to trunk.  Includes some minor test template revisions.  


2005-09-14	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-59-merged-unique-02-15:
	  Branch merge.  


2005-09-12	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-58-unique-02-07:
	  Added test support for unique state allocation (alloc) phase.  
	  Expected output format is only tentative, until a complete
		implementation of objdump for state comes along (soon).  


2005-09-04	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-56-merged-footprint-01-36:
	  Merged revisions and enhancements from -footprint branch.
	  Most notably the diff analysis scripts.  


2005-08-25	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-55-footprint-01-24:
	  Unroll and create test scripts now check for input file existence
		and non-zero size before executing.  


2005-08-15	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-55-footprint-01-06-merged-canonical-07:
	  Merged test suite revisions from branch.  
		Include test-analysis extensions.  
	  Many tests themselves were updated because of new object binary.


2005-08-14	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-55-footprint-01-05-canonical-03:
	  This revision arrives after having spent considerable effort 
		reworking the canonical type management in HACKT.
		The information in the objects remains the same while 
		the object binaries changed somewhat.  The new scripts
		introduced aid in the analysis of these "insignficant"
		differences.  
	  New: POM-index-filter.awk: takes the output of POM-header-filter.awk
		and filters out the indices of the object manager header. 
		Useful for minimizing the differences between object binaries.  
	  Extended unroll and create test script templates to
		conditionally perform further analysis on object dump
		differences, depending on whether or not non-header
		differences (in the human readable section) were introduced.  
	  analyze-dump-diff.awk: assess the nature of the object
		dump's differences.  Takes a diff -u output as input.  
	  Make.test-tail: updated to reflect script and test additions.  
		Notable: added check-summaries target.


2005-08-06	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-53-unique-01-06:
	  Added automake macros and rules for hackt create tests.  
		using .hacktcreatetest as generated test script, 
		.hacktobjcreate as created object file, 
		.create{dump,stderr,diff} as test outputs.  
	  Added hackt-create-expect.sh.in configured test script.  
	  Moved standard TESTS definition (+=) to Make.test-tail.
	  TODO: eventually abandon the ART/art names and adopt HACKT/hackt.  


2005-08-04	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-53-merged-configtest-03:
	  Merged revisions from -configtest (-03) branch.


2005-08-04	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-52-configtest-02:
	  Made test shell scripts configure-generated, using the 
		results of configure.  


2005-07-24	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-51:
	  Updated Make.test-tail to use new double-command form
		of executable "hackt <command>".


2005-07-22	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-49-maintainence-01:
	  Reworked Makefile.am structure, replacing Make.test
		with Make.test-head (include first) and Make.test-tail
		(include last).


2005-07-08	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-48-connect-01-23:
	  Made `cleaner' recursive in Make.test, inherited by other
		Makefiles in subdirectories.  
	  Changed artobjunroll test script!
		We now store the *filtered* unrolldump in the the
		repository's .stderr outputs, since there's no sense in
		keeping the unfiltered version around for comparison.  
		This will also dramatically reduce the size of the
		patches everytime the binaries change size as a result
		of individual objects changing size.  


2005-07-07	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-48-connect-01-19:
	  Enhanced Make.test to include a check.log target, which
		saves the results of "make -k check" to log file, 
		and dumps a quick failure summary.  This is usable
		in the top test directory, and any of its subdirectories, 
		thanks to automake.  Should've done this ages ago.  


2005-06-18	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-42-CHP-01-22:
	  "state_enum_filter.awk" handle case of bison grammar output
		where a the LHS of a rule is abbreviated with just '|'
		as a continuation of the previous line.  
		(bison vs. yacc difference)


2005-05-20	David Fang		<fangism@users.sourceforge.net>

	* ARTXX-00-01-04-main-00-38:
	  Added this ChangeLog.
	  Added POM-header-filter.awk to reduces test expectation conflicts
		due to trivial (insignificant) differences 
		and path-related differences.
	  artobj-diff.sh: added -d flag to art++2obj invocation
		to cause textual dump.  
	  	set up $filter command as pure pipe.
	  artobjunroll-expect.sh: set up $filter command as pure pipe.


