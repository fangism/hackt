.subckt foo<>::INTSUB:0 !GND !Vdd b a[0] a[1] a[2]
Mb:dn:0 !GND a[0] #0 !GND nch W=5u L=2u
Mb:dn:1 #0 a[1] #1 !GND nch W=5u L=2u
Mb:dn:2 #1 a[2] b !GND nch W=5u L=2u
Mb:up:0 !Vdd a[0] #2 !Vdd pch W=5u L=2u
Mb:up:1 #2 a[1] #3 !Vdd pch W=5u L=2u
Mb:up:2 #3 a[2] b !Vdd pch W=5u L=2u
.ends
.subckt foo<> !GND !Vdd a[0] a[1] a[2] b c
xINTSUB:0:inst !GND !Vdd b a[0] a[1] a[2] foo<>::INTSUB:0
Mc:dn:0 !GND a[0] #4 !GND nch W=5u L=2u
Mc:dn:1 #4 a[1] #5 !GND nch W=5u L=2u
Mc:dn:2 #5 a[2] c !GND nch W=5u L=2u
Mc:up:0 !Vdd a[0] #6 !Vdd pch W=5u L=2u
Mc:up:1 #6 a[1] #7 !Vdd pch W=5u L=2u
Mc:up:2 #7 a[2] c !Vdd pch W=5u L=2u
.ends


