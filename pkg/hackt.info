Package: hackt
Version: 0.1.4-devel-20090604
Revision: 1
Maintainer: David Fang <fangism@users.sourceforge.net>
Source: http://www.csl.cornell.edu/~fang/hackt/dists/%n-%v.tar.bz2
Source-MD5: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Homepage: http://www.csl.cornell.edu/~fang/hackt/
License: GPL
Description: Asynchronous circuit design tools
BuildDepends: <<
  fink		(>= 0.28),
  readline5	(>= 5.0-1),
  guile18-dev	(>= 1.8.1-1)
<<
Depends: <<
  readline5-shlibs,
  guile18-shlibs
<<
ConfigureParams: --prefix=%p YACC=/usr/bin/yacc --with-readline=%p --with-guile-config=guile-1.8-config --with-guile=guile-1.8 --docdir=%p/share/doc/%n -C
CompileScript: <<
#!/bin/sh -ev
mkdir darwin-build
cd darwin-build
../configure %c
make
<<
InfoTest: <<
	TestScript: cd darwin-build && make check.log || exit 2
<<
InstallScript: <<
#!/bin/sh -ev
cd darwin-build
make DESTDIR=%d install
<<
DocFiles: <<
	AUTHORS
	COPYING
	ChangeLog
	INSTALL
	NEWS
	README
<<
InfoDocs: <<
	%p/share/info/cast2hac.info
	%p/share/info/hac.info
	%p/share/info/hacchpsim.info
	%p/share/info/hackt.info
	%p/share/info/hacprsim.info
<<
# all private shlibs for now
Shlibs: <<
	!%p/lib/%n/libhacktast.0.dylib
	!%p/lib/%n/libhacktparsers.0.dylib
	!%p/lib/%n/libhacktlib.0.dylib
	!%p/lib/%n/libhacktsim.0.dylib
	!%p/lib/%n/libhacktguile.0.dylib
	!%p/lib/%n/libhacktchpsimguile.0.dylib
	!%p/lib/%n/libstdchpfn.0.dylib
	!%p/lib/%n/hackt-guile.0.so
	!%p/lib/%n/hackt-chpsim-guile.0.so
	!%p/lib/%n/stdchpfn.0.so
<<
SplitOff2: <<
	Package: %N-dev
	BuildDependsOnly: true
	Depends: %N (= %v-%r)
	Replaces: %N (<< 0.1.4-devel-20090604-1)
	Description: development files for HACKT
	Files: <<
		include
		lib/hackt/*.la
	<<
	DocFiles: AUTHORS COPYING ChangeLog INSTALL NEWS README
<<
DescDetail: <<
The Hierarchical Asynchronous Circuit Kompiler Toolkit (HACKT) is a collection
of CAD tools for designing, simulating, and analyzing asynchronous
circuits.  HACKT was originally developed at Cornell University by
David Fang.  
<<
DescPackaging: <<
Fink bundle package based on version tagged HACKT-00-01-04-main-00-83-22.  
Maintainence: since build-deps are not recursive, keep this synchronized
with the hackt-{dist,cvs}-deps.
The MD5 sum should be edited by hand.  
We use Apple's yacc as the parser generator, but bison (>= 1.875) works.
guile-1.6 is actually sufficient, but guile-1.8 is preferred.
TODO: relocate environment setup scripts (init_hackt) to %p/etc/profile.d,
decide how to install documentation files (soft-link?).  
TODO: distribute documentation with source so user need not build
SplitOffs of -shlibs, -dev.
Shared libraries will be kept private for now.  
Build and check are parallel-safe, recommend parallelizing using MAKEFLAGS
set to as many processors as you got (accounting for memory).  
<<
